Ref https://github.com/apache/guacamole-server/pull/618

--- a/src/common/iconv.c
+++ b/src/common/iconv.c
@@ -22,6 +22,7 @@
 
 #include <guacamole/unicode.h>
 #include <stdint.h>
+#include <endian.h>
 
 /**
  * Lookup table for Unicode code points, indexed by CP-1252 codepoint.
@@ -109,7 +109,7 @@
         return 0;
 
     /* Read two bytes as integer */
-    value = *((uint16_t*) *input);
+    value = le16toh(*((uint16_t*) *input));
     *input += 2;
 
     return value;
@@ -213,7 +213,7 @@
         return;
 
     /* Write two bytes as integer */
-    *((uint16_t*) *output) = value;
+    *((uint16_t*) *output) = htole16(value);
     *output += 2;
 
 }
