diff --git a/common/smtppass.c b/common/smtppass.c
index d9be1ba..cd78070 100644
--- a/common/smtppass.c
+++ b/common/smtppass.c
@@ -248,7 +248,7 @@ void sp_init(const char* name)
 int sp_run(const char* configfile, const char* pidfile, int dbg_level)
 {
     int sock;
-    int true = 1;
+    int optval = 1;
     
     ASSERT(configfile);
     ASSERT(g_state.name);
@@ -318,7 +318,7 @@ int sp_run(const char* configfile, const char* pidfile, int dbg_level)
     }
 
     fcntl(sock, F_SETFD, fcntl(sock, F_GETFD, 0) | FD_CLOEXEC);    
-    setsockopt(sock, SOL_SOCKET, SO_REUSEADDR, (void *)&true, sizeof(true));
+    setsockopt(sock, SOL_SOCKET, SO_REUSEADDR, (void *)&optval, sizeof(optval));
     
     /* Unlink the socket file if it exists */
     if(SANY_TYPE(g_state.listenaddr) == AF_UNIX)
@@ -610,7 +610,7 @@ static spctx_t* init_thread(int fd)
                 g_unique_id++;
         sp_unlock();    
             
-        sp_messagex(ctx, LOG_DEBUG, "processing %d on thread %x", fd, (int)pthread_self());
+        sp_messagex(ctx, LOG_DEBUG, "processing %d on thread %lx", fd, (unsigned long)pthread_self());
         
         /* Connect to the outgoing server ... */
         if(make_connections(ctx, fd) == -1)
@@ -727,7 +727,7 @@ cleanup:
         thread->fd = -1;
     sp_unlock();
 
-    return (void*)(ret == 0 ? 0 : 1);
+    return (void *)(intptr_t)(ret == 0 ? 0 : 1);
 }
 
 static int make_connections(spctx_t* ctx, int client)
