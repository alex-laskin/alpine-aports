From 8d710c36a947a2666bbef689155831d76fff56b9 Mon Sep 17 00:00:00 2001
From: Hilko Bengen <bengen@hilluzination.de>
Date: Tue, 18 Feb 2025 19:06:57 +0100
Subject: [PATCH] Avoid defining bool datatype

This avoids build failures with GCC 15,
see https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1097897
---
 tsk/base/crc.h | 3 ++-
 tsk/img/aff.c  | 2 --
 2 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/tsk/base/crc.h b/tsk/base/crc.h
index f9f4617c3d..3b13aa92f3 100644
--- a/tsk/base/crc.h
+++ b/tsk/base/crc.h
@@ -82,6 +82,8 @@ Status  : Copyright (C) Ross Williams, 1993. However, permission is
 #ifndef CM_DONE
 #define CM_DONE
 
+#include <stdbool.h>
+
 /******************************************************************************/
 
 /* The following definitions are extracted from my style header file which    */
@@ -91,7 +93,6 @@ Status  : Copyright (C) Ross Williams, 1993. However, permission is
 #ifndef DONE_STYLE
 
 typedef unsigned long   ulong;
-typedef unsigned        bool;
 typedef unsigned char * p_ubyte_;
 
 #ifndef TRUE
diff --git a/tsk/img/aff.c b/tsk/img/aff.c
index c53812e822..1604224c25 100755
--- a/tsk/img/aff.c
+++ b/tsk/img/aff.c
@@ -14,8 +14,6 @@
 
 #if HAVE_LIBAFFLIB
 
-typedef int bool;
-
 #include "aff.h"
 
 /* Note: The routine -assumes- we are under a lock on &(img_info->cache_lock)) */
