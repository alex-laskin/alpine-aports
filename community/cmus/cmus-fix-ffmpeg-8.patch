diff --git a/ip/ffmpeg.c b/ip/ffmpeg.c
index 21b9a01..b7480b2 100644
--- a/ip/ffmpeg.c
+++ b/ip/ffmpeg.c
@@ -226,7 +226,6 @@ static int ffmpeg_open(struct input_plugin_data *ip_data)
 	priv->codec = codec;
 	priv->input = ffmpeg_input_create();
 	if (priv->input == NULL) {
-		avcodec_close(cc);
 #if LIBAVCODEC_VERSION_INT >= AV_VERSION_INT(57, 48, 101)
 		avcodec_free_context(&cc);
 #endif
@@ -289,7 +288,6 @@ static int ffmpeg_close(struct input_plugin_data *ip_data)
 {
 	struct ffmpeg_private *priv = ip_data->private;
 
-	avcodec_close(priv->codec_context);
 #if LIBAVCODEC_VERSION_INT >= AV_VERSION_INT(57, 48, 101)
 	avcodec_free_context(&priv->codec_context);
 #endif
