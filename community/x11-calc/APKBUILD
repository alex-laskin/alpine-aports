# Contributor: macmpi <spam@ipik.org>
# Maintainer: macmpi <spam@ipik.org>
pkgname=x11-calc
pkgver=0.19.0194
pkgrel=0
pkgdesc="HP Calculator Simulator"
url="https://github.com/mike632t/x11-calc"
arch="all"
license="GPL-3.0-or-later"
makedepends="libx11-dev gtk+3.0-dev"
source="$pkgname-$pkgver.tar.gz::https://github.com/mike632t/x11-calc/archive/refs/tags/v$pkgver.tar.gz"
# does not have any tests
options="!check"
subpackages="$pkgname-prg:prg:noarch"

build() {
	make
}

package() {
	make DESTDIR="$pkgdir" prefix=/usr DESKTOP=freedesktop install
}

prg() {
	pkgdesc="Sample calculators saves & programs for $pkgname"
	depends="$pkgname=$pkgver-r$pkgrel"

	amove usr/share/x11-calc/prg
}

sha512sums="
b9e746c16fa643e95ae8c0b3086813fcf17f3a6c77badfef88f121a806b991b61d61b8e0ce4b4aeb4212ef3c96d9389a81162429aa540407b18ac4f8daf663f5  x11-calc-0.19.0194.tar.gz
"
