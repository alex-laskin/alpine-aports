# Maintainer: Celeste <cielesti@protonmail.com>
maintainer="Celeste <cielesti@protonmail.com>"
pkgname=makepp
pkgver=2.0.99.2
pkgrel=0
pkgdesc="Compatible but reliable and improved replacement for GNU make"
url="https://makepp.sourceforge.net/"
arch="noarch"
license="GPL-2.0-or-later OR Artistic-1.0-Perl"
depends="perl"
subpackages="$pkgname-doc"
source="https://downloads.sourceforge.net/makepp/makepp-$pkgver.tgz"

build() {
	PERL="$(command -v perl)" \
	./configure --prefix=/usr
}

check() {
	make testall
}

package() {
	MAKEFLAGS='' make DESTDIR="$pkgdir" install
}

doc() {
	default_doc

	amove usr/share/makepp/html/
}

sha512sums="
a012e324d4935f369e7cb4c0eff2673b52e81f0103dc59e9634456ee304af38e70bb01f89a00cc4061c3c4a4b48e6efa719e5415468eaf7653276783075b6ea6  makepp-2.0.99.2.tgz
"
