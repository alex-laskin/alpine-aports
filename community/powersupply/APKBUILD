# Contributor: Martijn Braam <martijn@brixit.nl>
maintainer="Luca Weiss <luca@lucaweiss.eu>"
pkgname=powersupply
pkgver=0.10.1
pkgrel=1
pkgdesc="Mobile app to display power status of phones"
url="https://gitlab.postmarketos.org/postmarketOS/powersupply"
arch="noarch"
license="MIT"
source="https://gitlab.postmarketos.org/postmarketOS/powersupply/-/archive/$pkgver/powersupply-$pkgver.tar.gz"
depends="
	gtk4.0
	libadwaita
	py3-gobject3
	python3
	"
makedepends="
	gtk4.0-dev
	libadwaita-dev
	meson
	"
options="!check" # There's no testsuite

build() {
	abuild-meson . output
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
6d171c1d25f84cbbf8f2487fed47a32a19a4613287c3c8bf88d68a43f1fdd42b75e401664792229d10681747434a7b717bb48616bd5ef50d142fabd4cb6eeafe  powersupply-0.10.1.tar.gz
"
