# Contributor: Jean-Louis Fuchs <safe.pen2857@rhizoome.ch>
# Maintainer: Jean-Louis Fuchs <safe.pen2857@rhizoome.ch>
pkgname=hyprland-qtutils
pkgver=0.1.5
pkgrel=0
pkgdesc="Hyprland QT/qml utility apps"
url="https://github.com/hyprwm/hyprland-qtutils"
# no qt6-qtdeclarative-dev on armhf
arch="all !armhf"
license="BSD-3-Clause"
depends="hyprland-qt-support"
makedepends="
	cmake
	samurai
	hyprutils-dev
	hyprland-qt-support
	qt6-qtbase-dev
	qt6-qtdeclarative-dev
	qt6-qtdeclarative-private-dev
	qt6-qtwayland-dev
"
options="!check" # currently there are no tests
source="hyprland-qtutils-$pkgver.tar.gz::https://github.com/hyprwm/hyprland-qtutils/archive/refs/tags/v$pkgver.tar.gz"

build() {
	cmake -B build -G Ninja \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib \
		-DINSTALL_QML_PREFIX=/lib/qt6/qml \
		-DCMAKE_BUILD_TYPE=None
	cmake --build build
}

package() {
	install -Dm0644 -t "$pkgdir/usr/share/licenses/$pkgname/" LICENSE
	DESTDIR="$pkgdir" cmake --install build
}

sha512sums="
ee0259561a4fb335a0ab730f38f74ff977b28a5200ace0216ffb52b670078c4b84e1387ab5c0228c276d6d6effe81a2f404f1d0037cb4973921446f4fb71cc28  hyprland-qtutils-0.1.5.tar.gz
"
