Patch-Source: https://github.com/mypaint/mypaint/pull/1300
Patch-Source: https://github.com/mypaint/mypaint/commit/2a92b6baf452aba2cff3cc0a7782b301da3933d7
Backported to 2.0.1.
---
diff -ruN a/lib/stroke.py b/lib/stroke.py
--- a/lib/stroke.py	2020-05-29 15:18:55.000000000 +0000
+++ b/lib/stroke.py	2025-09-22 03:39:38.090000000 +0000
@@ -43,7 +43,7 @@
 
         states = brush.get_states_as_array()
         assert states.dtype == 'float32'
-        self.brush_state = states.tostring()
+        self.brush_state = states.tobytes()
 
         self.brush = brush
         self.brush.new_stroke()  # resets the stroke_* members of the brush
@@ -63,7 +63,7 @@
         # - for space: just gzip? use integer datatypes?
         # - for time: maybe already use array storage while recording?
         data = np.array(self.tmp_event_list, dtype='float64')
-        data = data.tostring()
+        data = data.tobytes()
         version = b'2'
         self.stroke_data = version + data
 
diff -ruN a/lib/strokemap.py b/lib/strokemap.py
--- a/lib/strokemap.py	2020-05-29 15:18:55.000000000 +0000
+++ b/lib/strokemap.py	2025-09-22 03:38:29.440000000 +0000
@@ -411,7 +411,7 @@
 
     """
 
-    _ZDATA_ONES = zlib.compress(np.ones((N, N), 'uint8').tostring())
+    _ZDATA_ONES = zlib.compress(np.ones((N, N), 'uint8').tobytes())
 
     def __init__(self):
         """Initialize, as a tile filled with all ones."""
@@ -451,7 +451,7 @@
             tile._zdata = None
         else:
             tile._all = False
-            tile._zdata = zlib.compress(array.tostring())
+            tile._zdata = zlib.compress(array.tobytes())
         return tile
 
     @classmethod
