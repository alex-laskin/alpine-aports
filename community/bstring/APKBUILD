# Maintainer: Daniel Markstedt <daniel@mindani.net>
pkgname=bstring
pkgver=1.0.2
pkgrel=0
pkgdesc="The Better String Library for C"
url="https://mike.steinert.ca/bstring/"
arch="all"
license="BSD-3-Clause"
makedepends="check check-dev meson ninja"
subpackages="$pkgname-dev"
source="$pkgname-$pkgver.tar.gz::https://github.com/msteinert/bstring/archive/refs/tags/v$pkgver.tar.gz"

build() {
	abuild-meson \
		-Denable-tests=true \
		. build
	meson compile -C build
}

check() {
	meson test -C build
}

package() {
	meson install -C build --destdir "$pkgdir"
}

sha512sums="
2661ca04485409b7eef4e11094854fa63bc01a35fc77dbf4c0a2554d6b2ccdea242ec1482aa462a0787be39d6051d8f2b82476e0aee23acd88a4be5d415f2e0b  bstring-1.0.2.tar.gz
"
