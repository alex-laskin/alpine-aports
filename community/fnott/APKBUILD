# Contributor: Michał Polański <michal@polanski.me>
# Maintainer: Michał Polański <michal@polanski.me>
pkgname=fnott
pkgver=1.8.0
pkgrel=1
pkgdesc="Keyboard driven and lightweight Wayland notification daemon"
url="https://codeberg.org/dnkl/fnott"
license="MIT"
arch="all"
makedepends="
	meson
	pixman-dev
	libpng-dev
	wayland-protocols
	wayland-dev
	dbus-dev
	tllist-dev
	fcft-dev
	scdoc
	"
subpackages="$pkgname-doc $pkgname-zsh-completion $pkgname-openrc"
source="$pkgname-$pkgver.tar.gz::https://codeberg.org/dnkl/fnott/archive/$pkgver.tar.gz
	fnott.initd
	"
builddir="$srcdir/fnott"
options="!check" # no test suite

build() {
	abuild-meson . output
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output

	install -Dm755 "$srcdir"/fnott.initd "$pkgdir"/etc/user/init.d/fnott
}

sha512sums="
dbffe09cedac32ac2d54acbb49fcb465100bc1e8f72ec63f3f44b93f7b23ddc41186c5b35cc6ec834a892582bb3b94769711690b1cd6c9034046f0a121a31f7a  fnott-1.8.0.tar.gz
45432b757c0ff8efb7227babe7a0a7e9601e5f4d746a32e671064a83c53c072376441b6065ffa34805975cf17ff48cc04aff73cdceecf76b27287699b6dbd78c  fnott.initd
"
