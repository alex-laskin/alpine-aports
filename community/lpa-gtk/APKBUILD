# Contributor: Luca Weiss <luca@lucaweiss.eu>
# Maintainer: Luca Weiss <luca@lucaweiss.eu>
pkgname=lpa-gtk
pkgver=0.3
pkgrel=0
pkgdesc="Download and manage eSIM profiles"
url="https://codeberg.org/lucaweiss/lpa-gtk"
license="GPL-3.0-only"
arch="noarch !x86" # blocked by lpac
depends="
	gtk4.0
	libadwaita
	lpac
	py3-gobject3
	"
checkdepends="appstream"
makedepends="
	blueprint-compiler
	desktop-file-utils
	gtk4.0-dev
	libadwaita-dev
	meson
	"
source="$pkgname-$pkgver.tar.gz::https://codeberg.org/lucaweiss/lpa-gtk/archive/$pkgver.tar.gz"
subpackages="$pkgname-pyc"
builddir="$srcdir/$pkgname"

build() {
	abuild-meson . output
	meson compile -C output
}

check() {
	meson test --print-errorlogs -C output
}

package() {
	DESTDIR="$pkgdir" meson install -C output
}

sha512sums="
a9afe0b3250f437e13d7725e12eb0920a6c3dfbd67b5aff4fb331f2a4bd4e464b1e27b572fe94f198a8d472ec3ea103b52a079a6774deaf0a53043b3d4a4b8d6  lpa-gtk-0.3.tar.gz
"
