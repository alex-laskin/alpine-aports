diff --git a/cmake/MacroAddUnitTest.cmake b/cmake/MacroAddUnitTest.cmake
index ca3a927..fc851cc 100644
--- a/cmake/MacroAddUnitTest.cmake
+++ b/cmake/MacroAddUnitTest.cmake
@@ -2,8 +2,10 @@ macro(add_unit_test _testName _testSource)
   add_executable(${_testName} ${_testSource})
   target_link_libraries(${_testName} ${CGREEN_LIBRARIES} ${ARGN})
   target_include_directories(${_testName} PRIVATE ${CGREEN_INCLUDE_DIRS})
+if(NOT DISABLE_ASAN)
   target_compile_options(${_testName} PRIVATE "-fsanitize=address")
   target_link_options(${_testName} PRIVATE "-fsanitize=address")
+endif()
   add_test(NAME ${_testName} COMMAND ${CMAKE_CURRENT_BINARY_DIR}/${_testName})
   set_tests_properties(
     ${_testName}
