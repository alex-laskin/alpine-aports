# Contributor: Hannes Braun <hannes@hannesbraun.net>
# Maintainer: Hannes Braun <hannes@hannesbraun.net>
pkgname=libscfg
pkgver=0.2.0
pkgrel=0
pkgdesc="C library for scfg"
url="https://codeberg.org/emersion/libscfg"
arch="all"
license="MIT"
makedepends="meson"
subpackages="$pkgname-dev $pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://codeberg.org/emersion/libscfg/archive/v$pkgver.tar.gz"
builddir="$srcdir/$pkgname"

build() {
	abuild-meson . output
	meson compile -C output
}

check() {
	meson test --print-errorlogs -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output

	install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
}

sha512sums="
9a342308e8fa45f0e60712b99bc3d034261ad1869b27b75ae8768daa36fcbe8333a0845bd77196005de8be520a6e31d39c17998d0f0428d1c22a1591f850d8cd  libscfg-0.2.0.tar.gz
"
