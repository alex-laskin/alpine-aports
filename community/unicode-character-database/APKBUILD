# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Celeste <cielesti@protonmail.com>
maintainer="Celeste <cielesti@protonmail.com>"
pkgname=unicode-character-database
pkgver=17.0.0
pkgrel=0
pkgdesc="Unicode Character Database"
url="https://www.unicode.org/"
arch="noarch"
license="Unicode-DFS-2015"
makedepends="libarchive-tools"
source="UCD-$pkgver.zip::https://www.unicode.org/Public/$pkgver/ucd/UCD.zip
	Unihan-$pkgver.zip::https://www.unicode.org/Public/$pkgver/ucd/Unihan.zip
	emoji-sequences-$pkgver.txt::https://www.unicode.org/Public/$pkgver/emoji/emoji-sequences.txt
	emoji-zwj-sequences-$pkgver.txt::https://www.unicode.org/Public/$pkgver/emoji/emoji-zwj-sequences.txt
	emoji-test-$pkgver.txt::https://www.unicode.org/Public/$pkgver/emoji/emoji-test.txt
	"
options="!check" # no tests to speak off
replaces="unicode-emoji"
builddir="$srcdir"

package() {
	for _f in UCD Unihan; do
		install -Dm644 $_f-$pkgver.zip "$pkgdir/usr/share/unicode/$_f.zip"
		bsdtar -C "$pkgdir/usr/share/unicode" -x --no-same-owner --no-same-permissions -f $_f-$pkgver.zip
	done

	for _f in sequences test zwj-sequences; do
		install -Dm644 emoji-$_f-$pkgver.txt "$pkgdir"/usr/share/unicode/emoji/emoji-$_f.txt
	done
}

sha512sums="
34bf4f3760b72f34d31b9135820458a92efc01be4e068446031849ba8e36b9e30adecb2b7721239441cc026e70a33ad780a753464a6a635cea222c34767755d6  UCD-17.0.0.zip
8b0d117fed39600c62864dd0c955b2fe0a52cfc975288fcf58cb770aaf476355f52b2a603e11330184a07d89c705c0fea55eeb9a044c8f1ba3ba79f5f32d0b33  Unihan-17.0.0.zip
b67b4e91266b6206efac25f2327f6c57bf65c444fbf6babfef87446e6f8ddf91f5ce5015573abf3594555961bba37af85461e5188f4f4ee85cbe454914513425  emoji-sequences-17.0.0.txt
160be7f89e1bfaa0f6d587ce350b173cb68e324c67a2d2ef9d67941d913f0a48cd9ec8da299c8b9dbe80023488d236dec4eed04e90314e34b1d2f6753a27d726  emoji-zwj-sequences-17.0.0.txt
25f72b7e66ac8d96df68cc86b1f059552073cbd022e289e6bbcef0a09368fcbc5b43de6f97ed8ed10d30cf8524f019677105f2120f097b585480b4477aaa49dc  emoji-test-17.0.0.txt
"
