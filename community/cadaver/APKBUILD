# Contributor: ScrumpyJack <scrumpyjack@st.ilet.to>
# Maintainer: ScrumpyJack <scrumpyjack@st.ilet.to>
pkgname=cadaver
pkgver=0.27
pkgrel=0
pkgdesc="Cadaver is a command line webDAV client for Linux"
options="!check"
url="http://webdav.org/cadaver/"
arch="all"
license="GPL-2.0-or-later"
makedepends="libproxy-dev neon-dev readline-dev expat-dev"
subpackages="$pkgname-doc"
source="https://notroj.github.io/cadaver/cadaver-$pkgver.tar.gz
	disable-nls.patch
	gcc-15.patch
	"

prepare() {
	default_prepare
	update_config_sub
}

build() {
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--with-ssl \
		--with-expat \
		--with-neon \
		--disable-nls
	make
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="
fb023753ee116410f696db86a75d0e78de18b7b8bfee890a00c69f467adc32fa21c09b8546b909f4f7bb858ea3bd40c432b90e914d9c2b60676b9de635e9d418  cadaver-0.27.tar.gz
58982830b63c9bf4c27455e2d0403489bfdda82e4d236841c877d49c7501865edb3438cdddfb77ef7e525c4a5edb34083d3af69824f0ba2dc7d5c3f7f69b50e5  disable-nls.patch
3d2a5d398526f973614a6db22490c5651534363e40b97feea92d8d251c28cf47da01b819db9c9186ae22fc5253308c7f13e916a252ae372e09c11f8eaf54785e  gcc-15.patch
"
