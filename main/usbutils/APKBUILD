# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=usbutils
pkgver=019
pkgrel=0
pkgdesc="USB Device Utilities"
url="https://linux-usb.sourceforge.net/"
arch="all"
license="GPL-2.0-or-later"
subpackages="$pkgname-doc"
depends="hwdata-usb"
makedepends="libusb-dev eudev-dev linux-headers meson"
source="$pkgname-$pkgver.tar.gz::https://github.com/gregkh/usbutils/archive/refs/tags/v$pkgver.tar.gz"

build() {
	abuild-meson \
		. output
	meson compile -C output
}

check() {
	meson test --print-errorlogs -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
30e9574d64733ab75c9a974141e52532a309fa785d9b1af03d5c00fc220c58530ebaec72e81109d420e27c1bdfbfaa99d4ed37133c826c5ad7448ba8525d5fd5  usbutils-019.tar.gz
"
