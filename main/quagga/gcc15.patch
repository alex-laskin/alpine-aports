diff --git a/lib/getopt.c b/lib/getopt.c
index 7a58a8a..f7aa3d5 100644
--- a/lib/getopt.c
+++ b/lib/getopt.c
@@ -208,9 +208,7 @@ static char *posixly_correct;
 /* Avoid depending on library functions or files
    whose names are inconsistent.  */
 
-#ifndef getenv
-extern char *getenv ();
-#endif
+#include <stdlib.h>
 
 static char *
 my_index (str, chr)
diff --git a/ospfd/ospf_ri.c b/ospfd/ospf_ri.c
index f093208..6b8933d 100644
--- a/ospfd/ospf_ri.c
+++ b/ospfd/ospf_ri.c
@@ -206,7 +206,7 @@ ospf_router_info_term (void)
   OspfRI.pce_info.pce_neighbor = NULL;
   OspfRI.status = disabled;
 
-  ospf_router_info_unregister (OspfRI.scope);
+  ospf_router_info_unregister ();
 
   return;
 }
