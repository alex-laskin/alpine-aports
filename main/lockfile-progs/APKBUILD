# Contributor: Duane Hughes <duanejevon@gmail.com>
# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=lockfile-progs
pkgver=0.2.0
pkgrel=0
pkgdesc="Programs for locking and unlocking files and mailboxes"
url="https://packages.debian.org/sid/lockfile-progs"
arch="all"
license="GPL-2.0-or-later"
makedepends="liblockfile-dev bash"
subpackages="$pkgname-doc"
source="https://deb.debian.org/debian/pool/main/l/lockfile-progs/lockfile-progs_$pkgver.tar.xz
	musl.patch
	"

build() {
	make
}

check() {
	make check
}

package() {
	install -d "$pkgdir"/usr/bin
	install -d "$pkgdir"/usr/share/man/man1
	install -m 755 "$builddir"/bin/* "$pkgdir"/usr/bin
	install -m 644 "$builddir"/man/* "$pkgdir"/usr/share/man/man1
}

sha512sums="
ff5c6b9ac7835dbd0912baa5ee9e076a85a34d5c6708b5e71d0b64b5ab43e46107d8b43a40e8af29d1b921aa18df99cb095d4022667ee39e25be800c2e7991a7  lockfile-progs_0.2.0.tar.xz
1bf713991c8a037c4178665049abe0227d670dd99bfd5e5646d93b31a4ec9bb1705a7343049c027ebdfca93313bf127f6c3ca3d698441d05c814944dd6f8009a  musl.patch
"
