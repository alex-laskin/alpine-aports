From 3edb1dbecfb9ddae2240f0ddd17eeb2b7f84a14c Mon Sep 17 00:00:00 2001
From: Achill Gilgenast <achill@achill.org>
Date: Fri, 19 Sep 2025 10:18:07 +0200
Subject: [PATCH 09/10] system-wasm-ld.patch

Signed-off-by: Achill Gilgenast <achill@achill.org>
---
 compiler/rustc_target/src/spec/base/wasm.rs | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/compiler/rustc_target/src/spec/base/wasm.rs b/compiler/rustc_target/src/spec/base/wasm.rs
index 88e7af5e6697..ca9e0584a2d5 100644
--- a/compiler/rustc_target/src/spec/base/wasm.rs
+++ b/compiler/rustc_target/src/spec/base/wasm.rs
@@ -86,8 +86,8 @@ macro_rules! args {
         // arguments just yet
         limit_rdylib_exports: false,
 
-        // we use the LLD shipped with the Rust toolchain by default
-        linker: Some("rust-lld".into()),
+        // we use the LLD shipped with the system by default
+        linker: Some("wasm-ld".into()),
         linker_flavor: LinkerFlavor::WasmLld(Cc::No),
 
         pre_link_args,
-- 
2.51.0

