From ab5ddc8e1afc9ad4214745949b6168d2f5f73331 Mon Sep 17 00:00:00 2001
From: Dominic Meiser <alpine@msrd0.de>
Date: Tue, 22 Dec 2020 23:31:28 +0100
Subject: [PATCH 03/10] Do not install libunwind source

This was added in rustc 1.48, but is incompatible with the Alpine Linux package since it removes all bundled
dependencies prior to building.

Signed-off-by: Achill Gilgenast <achill@achill.org>
---
 src/bootstrap/src/core/build_steps/dist.rs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/bootstrap/src/core/build_steps/dist.rs b/src/bootstrap/src/core/build_steps/dist.rs
index 5cfaa6a7c770..bcfd39121a6c 100644
--- a/src/bootstrap/src/core/build_steps/dist.rs
+++ b/src/bootstrap/src/core/build_steps/dist.rs
@@ -1002,7 +1002,7 @@ fn run(self, builder: &Builder<'_>) -> GeneratedTarball {
         copy_src_dirs(
             builder,
             &builder.src,
-            &["library", "src/llvm-project/libunwind"],
+            &["library"],
             &[
                 // not needed and contains symlinks which rustup currently
                 // chokes on when unpacking.
-- 
2.51.0

