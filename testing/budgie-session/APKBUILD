# Maintainer: Biswapriyo Nath <nathbappai@gmail.com>
pkgname=budgie-session
pkgver=0.9.1
pkgrel=0
pkgdesc="Budgie session manager"
url="https://github.com/BuddiesOfBudgie/budgie-session"
arch="all"
license="GPL-2.0-or-later"
makedepends="
	glib-dev
	gnome-desktop-dev
	gsettings-desktop-schemas-dev
	gtk+3.0-dev
	json-glib-dev
	libepoxy-dev
	libice-dev
	libsm-dev
	libx11-dev
	libxcomposite-dev
	mesa-dev
	meson
	xmlto
	xtrans
	"
subpackages="$pkgname-doc $pkgname-lang"
options="!check" # No tests
source="https://github.com/BuddiesOfBudgie/budgie-session/releases/download/v$pkgver/budgie-session-v$pkgver.tar.xz"

build() {
	abuild-meson \
		-Dsystemd=false \
		-Dsystemd_journal=false \
		output .
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
59136f4a8f8f7f0a93a6eb4184abe90403c8d99e5387306c788aa43b410913256d5ce687ea4a09e56856a28ff6bfbe8c40c985a7c50754cda13c87b665643524  budgie-session-v0.9.1.tar.xz
"
