# Contributor: knuxify <knuxify@gmail.com>
# Maintainer: knuxify <knuxify@gmail.com>
pkgname=py3-pytest-textual-snapshot
pkgver=1.1.0
pkgrel=0
pkgdesc="Snapshot testing for Textual applications"
url="https://github.com/Textualize/pytest-textual-snapshot"
arch="noarch"
license="MIT"
depends="py3-pytest py3-rich py3-textual py3-syrupy py3-jinja2"
makedepends="py3-gpep517 py3-poetry-core"
subpackages="$pkgname-pyc"
source="https://github.com/Textualize/pytest-textual-snapshot/archive/v$pkgver/py3-pytest-textual-snapshot-$pkgver.tar.gz"
builddir="$srcdir/pytest-textual-snapshot-$pkgver"
options="!check" # no test suite

build() {
	gpep517 build-wheel \
		--wheel-dir .dist \
		--output-fd 3 3>&1 >&2
}

package() {
	python3 -m installer -d "$pkgdir" \
		.dist/*.whl
}

sha512sums="
3ba98e1981e14d130ccaadfe02cb95af22062f60631f1a4f85516b57a51851c3ad211d7843b5ac7fa8451ed5b2d6107c81f5c6c2182905cdc52b11943be01804  py3-pytest-textual-snapshot-1.1.0.tar.gz
"
