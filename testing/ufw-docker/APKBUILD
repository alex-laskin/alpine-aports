# Maintainer: revsuine <pid1@revsuine.xyz>
pkgname=ufw-docker
pkgver=250710
pkgrel=0
pkgdesc="To fix the Docker and UFW security flaw without disabling iptables"
options="!check" # no test suite
url="https://github.com/chaifeng/ufw-docker"
arch="noarch" # shell script
license="GPL-3.0-or-later"
depends="bash ufw"
subpackages="$pkgname-doc"
source="
	$pkgname-$pkgver.tar.gz::$url/archive/refs/tags/$pkgver.tar.gz
	busybox_compat.patch
"
install="$pkgname.post-deinstall"

package() {
	install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/"$pkgname"/
	install -Dm755 ufw-docker -t "$pkgdir"/usr/bin/
}

sha512sums="
9f06e288000f73387402bdc7361bf10271240c64645c4b1f2012374504d0078aab461c8525e5671c3c9d0494bbe342bc7aa969b396cf20540fe684a7fe0e489d  ufw-docker-250710.tar.gz
440015df78b8533d3b4875615126e8965be30077c59ec62e3fd8dd8839c992db35e99f4b5f732f8bba6bddec983bc51b7f560ea2395ae822a4e5bc257c54e6d7  busybox_compat.patch
"
