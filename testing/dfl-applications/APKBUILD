# Contributor: Patrycja Rosa <alpine@ptrcnull.me>
# Maintainer: Patrycja Rosa <alpine@ptrcnull.me>
pkgname=dfl-applications
pkgver=0.3.0
pkgrel=0
pkgdesc="Thin wrapper around QApplication, QGuiApplication and QCoreApplication"
url="https://gitlab.com/desktop-frameworks/applications/"
arch="all"
license="GPL-3.0-only"
makedepends="qt6-qtbase-dev meson dfl-ipc-dev"
subpackages="$pkgname-dev"
source="$pkgname-$pkgver.tar.gz::https://gitlab.com/desktop-frameworks/applications/-/archive/v$pkgver/applications-v$pkgver.tar.gz
	musl.patch"
builddir="$srcdir/applications-v$pkgver"
options="!check" # no test suite

build() {
	abuild-meson . output
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
d5914a3a01e246ddcc182ebb487ed9f189568ec608335bfc74de771b3194e69fc7e4fca80f7e5d18c560b561c4d4b8608284c88a0ff8844a711328cc74f73b4d  dfl-applications-0.3.0.tar.gz
14e90a7681ed95854c9a6e057af95acd162bf07b04f22b3f025da849e4d74293d8e947d12e3eadef8c5481dc89821983a6e3e50fc7b148e2701ef64d4525baa5  musl.patch
"
