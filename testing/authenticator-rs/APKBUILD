# Contributor: 3nodeproblem <git@3n.anonaddy.com>
# Maintainer: 3nodeproblem <git@3n.anonaddy.com>
pkgname=authenticator-rs
pkgver=0.8.6
pkgrel=0
pkgdesc="TOTP MFA/2FA application written in Rust and GTK3"
url="https://github.com/grumlimited/authenticator-rs"
arch="all"
license="GPL-3.0-or-later"
subpackages="$pkgname-lang"
makedepends="
	cargo
	curl-dev
	gtk+3.0-dev
	meson
	openssl-dev>3
	sqlite-dev
	zlib-dev
	"
source="https://github.com/grumlimited/authenticator-rs/archive/refs/tags/$pkgver/authenticator-rs-$pkgver.tar.gz"
options="net !check" # No tests

# size optimisations


build() {
	RELEASE_VERSION=$pkgver make release-version
	make release
}

package() {
	DESTDIR="$pkgdir" make install
}

sha512sums="
1c89ac91612d7a15ea091ef0a77831253ea4c6283b45702c5279e4e26f7a3503a55f5ac583335c9b12a905a56d4c25f66b65d609060b2be0446227fae72bd652  authenticator-rs-0.8.6.tar.gz
"
