# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=netsed
pkgver=1.4
_realver=$pkgver-1
pkgrel=0
pkgdesc="The network packet stream editor"
url="http://silicone.homelinux.org/projects/netsed/"
arch="all"
license="GPL-2.0-only"
checkdepends="ruby ruby-test-unit procps-ng"
makedepends="linux-headers"
source="$pkgname-$_realver.tar.gz::https://github.com/deepin-community/netsed/archive/refs/tags/$_realver.tar.gz
	default-path.patch"

builddir="$srcdir"/$pkgname-$_realver

build() {
	make PREFIX=/usr
}

check() {
	make test
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="
c0b326a66d56c5db2ad83f092d1455ad166384f8cb00a0fdf83edbfa6f185d1513fe64c93bb6a0120d95642f18864ce3676e628d2f52716c2d1a3046cd969353  netsed-1.4-1.tar.gz
a4c4cdcdaf8b5b6286d7b4870e06bf5b783e58f8ee19efee245aa3d2612b7257340799ac0fc188c928a11612591499759c477dfce7914cefd8e9403854dfd032  default-path.patch
"
