# Maintainer: Biswapriyo Nath <nathbappai@gmail.com>
pkgname=budgie-control-center
pkgver=1.4.0
pkgrel=0
pkgdesc="Budgie control center"
url="https://github.com/BuddiesOfBudgie/budgie-control-center"
arch="all"
license="GPL-2.0-or-later"
makedepends="
	accountsservice-dev
	cheese-dev
	colord-dev
	colord-gtk-dev
	gcr-dev
	glib-dev
	gnome-bluetooth-dev
	gnome-desktop-dev
	gnome-settings-daemon-dev
	gsettings-desktop-schemas-dev
	gsound-dev
	gtk+3.0-dev
	ibus-dev
	krb5-dev
	libepoxy-dev
	libgtop-dev
	libgudev-dev
	libhandy1-dev
	libnma-dev
	libpwquality-dev
	libsecret-dev
	libx11-dev
	libxi-dev
	libxml2-dev
	meson
	modemmanager-dev
	networkmanager-dev
	polkit-dev
	pulseaudio-dev
	samba-dev
	udisks2-dev
	upower-dev
	"
subpackages="
	$pkgname-bash-completion
	$pkgname-lang
	"
options="!check" # No tests
source="https://github.com/BuddiesOfBudgie/budgie-control-center/releases/download/v$pkgver/budgie-control-center-$pkgver.tar.xz
	0001-disable-older-gnome-bluetooth-requirement.patch
	0002-fix-FTBFS-with-incompatible-pointer-types.patch
	"

build() {
	abuild-meson \
		output .
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
cedac5a96bcdb4be136981c74850cb5bdc03e9e99f05e26c22feeff26011d6213fb915bb7f1416ce7ea1d1fb8ad9b332002012aec1dbf9caae90a0208b1058e3  budgie-control-center-1.4.0.tar.xz
9fd6591936da6323e8e33b00b6558b7560c4a6fe10aaedb369591eaa88cd086214579b638a8bbf551ad4194c9ffd9692bc4867bcf01f9e5b0a33a9403587cf00  0001-disable-older-gnome-bluetooth-requirement.patch
84764b13399663fa463e1c14fec2f1b780977d12b8efcbe8fb07d6c8c3ef881f62d1c05aefc723ab2762a8fd97b70bd84258fa5edcd474d9bef10893f526963e  0002-fix-FTBFS-with-incompatible-pointer-types.patch
"
