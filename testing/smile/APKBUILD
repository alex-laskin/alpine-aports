# Contributor: Guy Godfroy <guy.godfroy@gugod.fr>
# Maintainer: Guy Godfroy <guy.godfroy@gugod.fr>
pkgname=smile
pkgver=2.10.2
pkgrel=0
pkgdesc="Emoji picker with custom tags support and localization"
url="https://mijorus.it/projects/smile"
arch="noarch"
license="GPL-3.0-or-later"
depends="python3"
makedepends="meson python3 pango-dev glib-dev gtk4.0-dev desktop-file-utils"
source="$pkgname-$pkgver.tar.gz::https://github.com/mijorus/smile/archive/refs/tags/$pkgver.tar.gz"
subpackages="$pkgname-lang"

build() {
	abuild-meson \
		. output
	meson compile -C output
}

check() {
	meson test --print-errorlogs -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
122c76263f3b9c9bba5fc89957d4c5f2fcc10c8e0abd9d5a102a3ba24c470bac8ddc4e7ca71894649cdd81b4bdf176f3f05887c93380362c5a7ee9848f5448e7  smile-2.10.2.tar.gz
"
