# Maintainer: Biswapriyo Nath <nathbappai@gmail.com>
pkgname=budgie-screensaver
pkgver=5.1.0
pkgrel=0
pkgdesc="Budgie screen saver"
url="https://github.com/BuddiesOfBudgie/budgie-screensaver"
arch="all"
license="GPL-2.0-only"
makedepends="
	dbus-glib-dev
	glib-dev
	gnome-desktop-dev
	gsettings-desktop-schemas-dev
	gtk+3.0-dev
	intltool
	libgnomekbd-dev
	libxxf86vm-dev
	linux-pam-dev
	meson
	"
subpackages="$pkgname-doc $pkgname-lang"
options="!check" # No tests
source="https://github.com/BuddiesOfBudgie/budgie-screensaver/releases/download/v$pkgver/budgie-screensaver-v$pkgver.tar.xz"

build() {
	CFLAGS="$CFLAGS -D_GNU_SOURCE" \
	abuild-meson \
		-Dwith-systemd=false \
		output .
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
19102feca89379c00f083ad9657a750ebddbbb0b823d8ac29e3508b5468f59c30fa5b1d46dbe575f22c692fd9f34f0d83103a9e58ccc6abbebd2bb6f6dbff167  budgie-screensaver-v5.1.0.tar.xz
"
