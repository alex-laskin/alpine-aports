# Maintainer: Maarten van Gompel <proycon@anaproy.nl>
pkgname=stam
pkgver=0.12.2
pkgrel=0
pkgdesc="Command line tools for working with stand-off annotations on text"
url="https://annotation.github.io/stam"
arch="all"
license="GPL-3.0-only"
makedepends="cargo cargo-auditable"
source="$pkgname-$pkgver.tar.gz::https://github.com/annotation/stam-tools/archive/refs/tags/v$pkgver.tar.gz"
builddir="$srcdir/$pkgname-tools-$pkgver"
options="net" #fetch cargo crates

prepare() {
	default_prepare

	cargo fetch --target="$CTARGET"
}

build() {
	cargo auditable build --frozen --release
}

check() {
	cargo test
}

package() {
	install -Dm755 target/release/stam -t "$pkgdir"/usr/bin/
}

sha512sums="
b6663afd8874c0d6221edb3dcb244d8b046c261398fc2abfb34d52db5088e134f42c1061ee44098e9aeccef3ee634d167fead8bbf834aad0c2b10f72a48e89a4  stam-0.12.2.tar.gz
"
