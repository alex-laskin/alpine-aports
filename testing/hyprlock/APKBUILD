# Contributor: Vasiliy Doylov <nekocwd@mainlining.org>
# Maintainer: Vasiliy Doylov <nekocwd@mainlining.org>
pkgname=hyprlock
pkgver=0.9.1
pkgrel=0
pkgdesc="Hyprland's GPU-accelerated screen locking utility"
url="https://github.com/hyprwm/hyprlock"
arch="all"
license="BSD-3-Clause"
options="!check" # No tests
makedepends="
	cairo-dev
	cmake
	file-dev
	hyprgraphics-dev
	hyprland-protocols
	hyprlang-dev
	hyprutils-dev
	hyprwayland-scanner
	jpeg-dev
	libwebp-dev
	libxkbcommon-dev
	linux-pam-dev
	mesa-dev
	ninja
	pango-dev
	sdbus-cpp-dev
	wayland-dev
	wayland-protocols
	"
source="
	$pkgname-$pkgver.tar.gz::https://github.com/hyprwm/hyprlock/archive/v$pkgver.tar.gz
	"

build() {
	cmake -B build -G Ninja \
		-DCMAKE_BUILD_TYPE=Release \
		-DCMAKE_INSTALL_LIBEXECDIR=/usr/libexec \
		-DCMAKE_INSTALL_PREFIX=/usr
	cmake --build build
}

package() {
	DESTDIR="$pkgdir" cmake --install build
}

sha512sums="
7fcb5cdb6504f635b161291d67428d84b03baf423239a66478efa217ab9806362539fbf39fac99eca0e55a5a825b92665fb2d4e4d722680e5aad551c08c7ed58  hyprlock-0.9.1.tar.gz
"
