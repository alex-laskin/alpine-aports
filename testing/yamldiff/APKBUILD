maintainer="Kevin Daudt <kdaudt@alpinelinux.org>"
pkgname=yamldiff
pkgver=0.3.0
pkgrel=2
pkgdesc="compare yaml documents to identify structural differences"
url="https://github.com/semihbkgr/yamldiff"
arch="all"
license="MIT"
makedepends="go"
options="net"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/semihbkgr/yamldiff/archive/refs/tags/v$pkgver.tar.gz"

build() {
	go build -v \
		-ldflags "-X github.com/semihbkgr/yamldiff/cmd.buildVersion=$pkgver" \
		.
}

check() {
	go test -v ./...
}

package() {
	install -Dm0755 yamldiff "$pkgdir"/usr/bin/yamldiff
	install -Dm0644 LICENSE "$pkgdir"/usr/share/licenses/yamldiff/LICENSE
}

sha512sums="
ae47b9f4f697e90a382d120fb7891e15443a1734b081e764b8e935cbd3a6f0d7544fb474202c5f625b9aa56f8ff7b1ad3519bd903a50da5b3c58f12a2d2d9800  yamldiff-0.3.0.tar.gz
"
