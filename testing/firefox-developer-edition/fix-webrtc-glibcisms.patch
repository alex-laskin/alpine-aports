--- a/third_party/libwebrtc/rtc_base/cpu_info.cc
+++ b/third_party/libwebrtc/rtc_base/cpu_info.cc
@@ -37,7 +37,7 @@
 #define WEBRTC_GLIBC_PREREQ(a, b) 0
 #endif
 
-#if WEBRTC_GLIBC_PREREQ(2, 16)
+#if !__GLIBC__ || WEBRTC_GLIBC_PREREQ(2, 16)
 #include <sys/auxv.h>  // IWYU pragma: keep
 #else
 #include <errno.h>
@@ -205,7 +205,7 @@
     return false;
 #elif defined(WEBRTC_LINUX)
     uint64_t hwcap = 0;
-#if WEBRTC_GLIBC_PREREQ(2, 16)
+#if !__GLIBC__ || WEBRTC_GLIBC_PREREQ(2, 16)
     hwcap = getauxval(AT_HWCAP);
 #else
     ElfW(auxv_t) auxv;
