# Contributor: Guy Godfroy <guy.godfroy@gugod.fr>
# Maintainer: Guy Godfroy <guy.godfroy@gugod.fr>
pkgname=ssh-studio
_pkgname=SSH-Studio
pkgver=1.3.1
pkgrel=0
pkgdesc="Easy, GUI SSH config editor and validator built with Python, GTK 4 and libadwaita"
url="https://github.com/BuddySirJava/SSH-Studio"
arch="noarch"
license="GPL-3.0-or-later"
depends="python3"
makedepends="meson libadwaita-dev gtk4.0-dev gtksourceview5-dev blueprint-compiler-dev"
source="$pkgname-$pkgver.tar.gz::https://github.com/BuddySirJava/SSH-Studio/archive/refs/tags/$pkgver.tar.gz"
builddir="$srcdir/$_pkgname-$pkgver/"
subpackages="$pkgname-pyc $pkgname-lang"

build() {
	abuild-meson \
		output .
	meson compile -C output
}

check() {
	meson test --print-errorlogs -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
74ef331bf73020d77888b26bcb8dede62d6daee8cf29147c11632a7268b9eb9bd9cec84412637504e862514088b63e2288050186aed8bf5b6a74f03406883c92  ssh-studio-1.3.1.tar.gz
"
