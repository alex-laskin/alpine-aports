maintainer="DÃ­az Urbaneja Diego <sodomon2@gmail.com>"
pkgname=cartero
pkgver=0.2.2
pkgrel=0
pkgdesc="HTTP client that you can use to test your APIs."
url="https://cartero.danirod.es/"
arch="all"
license="GPL-3.0-only"
makedepends="
	blueprint-compiler
	cargo
	cmake
	curl-dev
	desktop-file-utils
	gsettings-desktop-schemas-dev
	gtksourceview5-dev
	gtk4.0-dev
	libadwaita-dev
	meson
	openssl-dev
	rust
	samurai
	"
subpackages="$pkgname-lang"
source="$pkgname-$pkgver.tar.gz::https://github.com/danirod/cartero/archive/refs/tags/v$pkgver.tar.gz"

build() {
	abuild-meson \
		output .
	meson compile -C output
}

check() {
	meson test --print-errorlogs -C output
}

package() {
	DESTDIR="$pkgdir" meson install -C output
}

sha512sums="
5cef1b49affb7cd725b9e4a0bd5a0c4a0fbea0f7f1e4e2fede2a8fb535f1bdeb7f58f889918d3f7b7b33a0a2edff09bb6278a290e5e1934835339ebc02f9c7ce  cartero-0.2.2.tar.gz
"
